apply plugin: 'java'
apply plugin: 'scala'

task wrapper(type: Wrapper) {
  gradleVersion = '2.4'
}

sourceSets {
  main.java.exclude 'usbrubberducky/encoder/Encoder_GUI.java'
  neo
}

repositories { mavenCentral() }

dependencies {
  neoCompile(
    'org.scala-lang:scala-library:2.11+',
  )
}

// Use fast, incremental scala compiler
tasks.withType(ScalaCompile) {
  scalaCompileOptions.useAnt = false
  scalaCompileOptions.additionalParameters = ['-feature']
}

jar {
  archiveName = 'encoder.jar'
  manifest {
    from 'src/main/resources/META-INF/MANIFEST.MF'
  }
}

apply from: 'test.gradle'
